/* Основные стили */
body { 
  font-family: Inter, system-ui, -apple-system, Segoe UI, sans-serif; 
  margin: 0; 
  padding: 16px; 
  width: 380px; 
  background: #1a1a1a;
  color: #e5e5e5;
  line-height: 1.5;
}

/* Карточки */
.card { 
  background: #2d2d2d;
  border: 1px solid #404040; 
  border-radius: 12px; 
  padding: 16px; 
  margin-bottom: 12px; 
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
  transition: box-shadow 0.2s ease;
}

.card:hover {
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.4);
}

/* Строки */
.row { 
  display: flex; 
  gap: 12px; 
  align-items: center; 
  flex-wrap: wrap; 
  margin-bottom: 8px;
}

.row:last-child {
  margin-bottom: 0;
}

.row label { 
  display: flex; 
  align-items: center; 
  gap: 8px; 
  font-weight: 500;
  color: #b3b3b3;
  font-size: 14px;
}

/* Поля ввода */
.row select, .row input[type="number"], .row input[type="text"] { 
  max-width: 100%; 
  padding: 8px 12px;
  border: 1px solid #555;
  border-radius: 8px;
  font-size: 14px;
  background: #404040;
  color: #e5e5e5;
  transition: border-color 0.2s ease, box-shadow 0.2s ease;
}

.row select:focus, .row input[type="number"]:focus, .row input[type="text"]:focus {
  outline: none;
  border-color: #3b82f6;
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2);
}

/* Чекбокс */
input[type="checkbox"] {
  width: 16px;
  height: 16px;
  accent-color: #3b82f6;
}

/* Блок выбора колонки */
#columnRow { 
  margin-top: 12px;
}

.column-block .field-label {
  margin-bottom: 6px;
  color: #b3b3b3;
  font-size: 14px;
  font-weight: 500;
}

.column-block .row {
  flex-wrap: nowrap;            /* кнопка и селект в одну строку */
}

#columnSelect { 
  flex: 1 1 auto;              /* растягивается на оставшееся место */
  min-width: 0;                /* позволяет сжиматься */
  box-sizing: border-box; 
  padding: 10px 12px;
  border: 1px solid #555;
  border-radius: 8px;
  background: #404040;
  color: #e5e5e5;
  font-size: 14px;
}

#autoDetect { 
  flex: 0 0 auto; 
  padding: 10px 16px;
  background: #404040;
  border: 1px solid #555;
  border-radius: 8px;
  font-size: 14px;
  font-weight: 500;
  color: #e5e5e5;
  cursor: pointer;
  transition: all 0.2s ease;
  min-width: 60px;
}

#autoDetect:hover {
  background: #555;
  border-color: #666;
  transform: translateY(-1px);
}

/* Кнопки управления */
.controls { 
  display: flex; 
  gap: 8px; 
  margin-bottom: 12px;
  flex-wrap: wrap;
}

button {
  padding: 8px 14px;
  border: 1px solid #505050;
  border-radius: 8px;
  font-size: 13px;
  font-weight: 600;
  background: linear-gradient(180deg, #3a3a3a, #2b2b2b);
  color: #e8e8e8;
  cursor: pointer;
  transition: transform .15s ease, box-shadow .15s ease, background .15s ease;
  min-width: fit-content;
  box-shadow: inset 0 1px rgba(255,255,255,.06), 0 1px 2px rgba(0,0,0,.4);
}

button:hover:not(:disabled) {
  transform: translateY(-1px);
  box-shadow: inset 0 1px rgba(255,255,255,.08), 0 4px 10px rgba(0,0,0,.45);
}

button:active:not(:disabled) {
  transform: translateY(0);
  background: linear-gradient(180deg, #2e2e2e, #242424);
}

#resumeBtn { min-width: 110px; }

/* Унификация цветов кнопок */
#startBtn, #pauseBtn, #resumeBtn, #stopBtn, #downloadXlsx, #downloadCsv {
  background: linear-gradient(180deg, #3a3a3a, #2b2b2b);
  color: #e8e8e8;
}

#startBtn:hover:not(:disabled), #pauseBtn:hover:not(:disabled), #resumeBtn:hover:not(:disabled), #stopBtn:hover:not(:disabled), #downloadXlsx:hover:not(:disabled), #downloadCsv:hover:not(:disabled) {
  background: linear-gradient(180deg, #404040, #303030);
}

#downloadXlsx, #downloadCsv { flex: 1; margin: 0 4px; }

/* Прогресс бар */
.progress { 
  background: #e5e7eb; 
  border-radius: 6px; 
  height: 8px; 
  overflow: hidden; 
  margin-bottom: 8px;
}

#progressBar { 
  background: linear-gradient(90deg, #3b82f6, #10b981); 
  width: 0%; 
  height: 100%; 
  transition: width 0.3s ease; 
  border-radius: 6px;
}

/* Мета информация */
.meta { 
  color: #999; 
  font-size: 12px; 
  margin-top: 8px; 
  text-align: center;
}

/* Лог секция */
.log-section { 
  max-height: 220px; 
  overflow: auto; 
  background: #1a1a1a;
  border: 1px solid #404040;
  border-radius: 8px;
  padding: 12px;
}

.log { 
  font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Roboto Mono', monospace; 
  font-size: 12px; 
  white-space: pre-wrap; 
  color: #e5e5e5;
  line-height: 1.4;
  margin: 0;
}

/* Детали */
details {
  margin-top: 8px;
}

details summary {
  cursor: pointer;
  font-weight: 500;
  color: #999;
  padding: 4px 0;
}

details summary:hover {
  color: #e5e5e5;
}

details[open] summary {
  margin-bottom: 8px;
}

/* Скрытые элементы */
.hidden { 
  display: none; 
}

/* Файл инпут */
#fileInput {
  width: 100%;
  padding: 12px;
  border: 2px dashed #555;
  border-radius: 8px;
  background: #2d2d2d;
  color: #e5e5e5;
  text-align: center;
  cursor: pointer;
  transition: all 0.2s ease;
}

#fileInput:hover {
  border-color: #3b82f6;
  background: #333;
}

/* Предупреждения */
.warn { 
  background: #4a1a1a; 
  border-color: #6b2c2c;
}